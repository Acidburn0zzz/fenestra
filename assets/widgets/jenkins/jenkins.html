<script>
    function draw(){
      canvas = getElementById('jenkins-canvas');
      context = canvas.getContext('2d');
      var x = canvas.width / 2;
      var y = canvas.height / 2;
      var radius = 50;
      var startAngle = 0.8 * Math.PI;
      var endAngle = 2.2 * Math.PI;
      var counterClockwise = false;

      context.beginPath();
      context.arc(x, y, radius, startAngle, endAngle, counterClockwise);
      context.lineWidth = 30;
      context.strokeStyle = '#444';
      context.stroke();
      context.endPath();

      context.beginPath();
      context.arc(x, y, radius, startAngle, endAngle-0.3, counterClockwise);
      context.lineWidth = 30;
      context.strokeStyle = '#fff';
      context.stroke();
      context.endPath();
    };
    window.onload = draw;
</script>
<div class='widget-list {{ j.color }}' ng-controller='JenkinsCtrl'>
    <div class='wrapper'>
        <h2 class='title'>Jenkins Builds for OSL</h2>
        <canvas id='jenkins-canvas'></canvas>
        <p class='label'>Last built: {{ j.project }} at {{ j.time }}</p>
        </div>
</div>

